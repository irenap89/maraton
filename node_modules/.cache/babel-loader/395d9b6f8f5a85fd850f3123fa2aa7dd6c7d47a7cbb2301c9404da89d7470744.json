{"ast":null,"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : new P(function (resolve) {\n        resolve(result.value);\n      }).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst fs = require(\"fs\");\nconst unirest = require(\"unirest\");\nconst API_ENDPOINT = \"https://api.remove.bg/v1.0/removebg\";\nconst API_KEY_HEADER = \"X-Api-Key\";\nfunction removeBackgroundFromImageUrl(options) {\n  return new Promise((resolve, reject) => {\n    const requestOptions = getRequestOptions(options);\n    requestOptions[\"image_url\"] = options.url;\n    getPost(options).header(\"Content-Type\", \"application/json\").send(requestOptions).end(result => processResult(result, options, resolve, reject));\n  });\n}\nexports.removeBackgroundFromImageUrl = removeBackgroundFromImageUrl;\nfunction removeBackgroundFromImageFile(options) {\n  return __awaiter(this, void 0, void 0, function* () {\n    return new Promise((resolve, reject) => {\n      const request = getPost(options);\n      const requestOptions = getRequestOptions(options);\n      for (let k in requestOptions) {\n        request.field(k, requestOptions[k]);\n      }\n      request.attach(\"image_file\", fs.createReadStream(options.path)).end(result => processResult(result, options, resolve, reject));\n    });\n  });\n}\nexports.removeBackgroundFromImageFile = removeBackgroundFromImageFile;\nfunction removeBackgroundFromImageBase64(options) {\n  return new Promise((resolve, reject) => {\n    const requestOptions = getRequestOptions(options);\n    requestOptions[\"image_file_b64\"] = options.base64img;\n    getPost(options).header(\"Content-Type\", \"application/json\").send(requestOptions).end(result => processResult(result, options, resolve, reject));\n  });\n}\nexports.removeBackgroundFromImageBase64 = removeBackgroundFromImageBase64;\nfunction getRequestOptions(options) {\n  return {\n    \"size\": options.size || \"preview\",\n    \"type\": options.type || \"auto\",\n    \"scale\": options.scale,\n    \"position\": options.position,\n    \"crop\": options.crop === true,\n    \"crop_margin\": options.crop_margin,\n    \"roi\": options.roi,\n    \"bg_color\": options.bg_color,\n    \"bg_image_url\": options.bg_image_url,\n    \"channels\": options.channels,\n    \"add_shadow\": options.add_shadow\n  };\n}\nfunction getPost(options) {\n  return unirest.post(API_ENDPOINT).header(API_KEY_HEADER, options.apiKey).header(\"Accept\", \"application/json\");\n}\nfunction processResult(result, options, resolve, reject) {\n  return __awaiter(this, void 0, void 0, function* () {\n    if (result.status === 200) {\n      if (options.outputFile) {\n        fs.writeFileSync(options.outputFile, result.body.data.result_b64, {\n          encoding: \"base64\"\n        });\n      }\n      resolve({\n        base64img: result.body.data.result_b64,\n        creditsCharged: result.headers[\"x-credits-charged\"],\n        detectedType: result.headers[\"x-type\"],\n        resultWidth: result.headers[\"x-width\"],\n        resultHeight: result.headers[\"x-height\"],\n        rateLimit: result.headers[\"x-ratelimit-limit\"],\n        rateLimitRemaining: result.headers[\"x-ratelimit-remaining\"],\n        rateLimitReset: result.headers[\"x-ratelimit-reset\"],\n        retryAfter: result.headers[\"retry-after\"]\n      });\n    } else {\n      reject(result.body && result.body.errors ? result.body.errors : result.body);\n    }\n  });\n}","map":{"version":3,"names":["__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","Object","defineProperty","exports","fs","require","unirest","API_ENDPOINT","API_KEY_HEADER","removeBackgroundFromImageUrl","options","requestOptions","getRequestOptions","url","getPost","header","send","end","processResult","removeBackgroundFromImageFile","request","k","field","attach","createReadStream","path","removeBackgroundFromImageBase64","base64img","size","type","scale","position","crop","crop_margin","roi","bg_color","bg_image_url","channels","add_shadow","post","apiKey","status","outputFile","writeFileSync","body","data","result_b64","encoding","creditsCharged","headers","detectedType","resultWidth","resultHeight","rateLimit","rateLimitRemaining","rateLimitReset","retryAfter","errors"],"sources":["C:/Users/irena/Desktop/bg_remove/bg_remove_1/maraton/node_modules/remove.bg/dist/index.js"],"sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst fs = require(\"fs\");\nconst unirest = require(\"unirest\");\nconst API_ENDPOINT = \"https://api.remove.bg/v1.0/removebg\";\nconst API_KEY_HEADER = \"X-Api-Key\";\nfunction removeBackgroundFromImageUrl(options) {\n    return new Promise((resolve, reject) => {\n        const requestOptions = getRequestOptions(options);\n        requestOptions[\"image_url\"] = options.url;\n        getPost(options)\n            .header(\"Content-Type\", \"application/json\")\n            .send(requestOptions)\n            .end(result => processResult(result, options, resolve, reject));\n    });\n}\nexports.removeBackgroundFromImageUrl = removeBackgroundFromImageUrl;\nfunction removeBackgroundFromImageFile(options) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return new Promise((resolve, reject) => {\n            const request = getPost(options);\n            const requestOptions = getRequestOptions(options);\n            for (let k in requestOptions) {\n                request.field(k, requestOptions[k]);\n            }\n            request\n                .attach(\"image_file\", fs.createReadStream(options.path))\n                .end(result => processResult(result, options, resolve, reject));\n        });\n    });\n}\nexports.removeBackgroundFromImageFile = removeBackgroundFromImageFile;\nfunction removeBackgroundFromImageBase64(options) {\n    return new Promise((resolve, reject) => {\n        const requestOptions = getRequestOptions(options);\n        requestOptions[\"image_file_b64\"] = options.base64img;\n        getPost(options)\n            .header(\"Content-Type\", \"application/json\")\n            .send(requestOptions)\n            .end(result => processResult(result, options, resolve, reject));\n    });\n}\nexports.removeBackgroundFromImageBase64 = removeBackgroundFromImageBase64;\nfunction getRequestOptions(options) {\n    return {\n        \"size\": options.size || \"preview\",\n        \"type\": options.type || \"auto\",\n        \"scale\": options.scale,\n        \"position\": options.position,\n        \"crop\": options.crop === true,\n        \"crop_margin\": options.crop_margin,\n        \"roi\": options.roi,\n        \"bg_color\": options.bg_color,\n        \"bg_image_url\": options.bg_image_url,\n        \"channels\": options.channels,\n        \"add_shadow\": options.add_shadow\n    };\n}\nfunction getPost(options) {\n    return unirest\n        .post(API_ENDPOINT)\n        .header(API_KEY_HEADER, options.apiKey)\n        .header(\"Accept\", \"application/json\");\n}\nfunction processResult(result, options, resolve, reject) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (result.status === 200) {\n            if (options.outputFile) {\n                fs.writeFileSync(options.outputFile, result.body.data.result_b64, { encoding: \"base64\" });\n            }\n            resolve({\n                base64img: result.body.data.result_b64,\n                creditsCharged: result.headers[\"x-credits-charged\"],\n                detectedType: result.headers[\"x-type\"],\n                resultWidth: result.headers[\"x-width\"],\n                resultHeight: result.headers[\"x-height\"],\n                rateLimit: result.headers[\"x-ratelimit-limit\"],\n                rateLimitRemaining: result.headers[\"x-ratelimit-remaining\"],\n                rateLimitReset: result.headers[\"x-ratelimit-reset\"],\n                retryAfter: result.headers[\"retry-after\"]\n            });\n        }\n        else {\n            reject((result.body && result.body.errors ? result.body.errors : result.body));\n        }\n    });\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}